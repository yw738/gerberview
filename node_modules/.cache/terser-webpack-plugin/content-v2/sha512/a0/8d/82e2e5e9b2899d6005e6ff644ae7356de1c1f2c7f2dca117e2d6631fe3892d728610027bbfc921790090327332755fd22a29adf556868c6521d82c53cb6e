{"map":{"version":3,"sources":["7.ea19df819c145b96d910.js"],"names":["this","push","114","module","__webpack_exports__","__webpack_require__","r","d","StoreProvider","react","react_default","n","actions","context","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_extends","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","analytics","logger","render","src_state","src_db","_slicedToArray","arr","Array","isArray","_arrayWithHoles","Symbol","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","err","_iterableToArrayLimit","o","minLen","_arrayLikeToArray","toString","slice","constructor","name","from","test","_unsupportedIterableToArray","TypeError","_nonIterableRest","len","arr2","props","_useState2","state","setState","stateRef","dispatchRef","a","store","getState","current","dispatch","action","database","then","db","type","prefs","payload","reduceRight","handler","appPreferences","loading","_action$payload","id","update","board","updating","downloading","mode","_action$payload2","_id","solo","layerVisibility","otherIds","layers","map","ly","filter","lyId","nextVisibilty","every","reduce","result","savedBoards","prevLayerVisibility","_board","_layerVisibility","prevVisibility","updatedBoard","b","indexOf","_id2","_savedBoards","_board2","_mode","error","nextState","request","reducer","createElement","Provider","children","176","createRenderMiddleware","file_saver__WEBPACK_IMPORTED_MODULE_9__","_state__WEBPACK_IMPORTED_MODULE_10__","_logger__WEBPACK_IMPORTED_MODULE_11__","_worker__WEBPACK_IMPORTED_MODULE_12__","_worker__WEBPACK_IMPORTED_MODULE_12___default","worker","onmessage","event","debug","data","postMessage","url","URLSearchParams","window","location","search","get","file","concat","178","exports","181","246","_middleware__WEBPACK_IMPORTED_MODULE_0__","254","Worker","p","255","createAppDatabase","ensureAppPreferences","updateAppPreferences","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","Promise","_asyncToGenerator","fn","self","args","_createAppDatabase","regeneratorRuntime","mark","_callee2","wrap","_context2","prev","abrupt","e","bind","_ref2","Dexie","version","stores","preferences","stop","_x","_ensureAppPreferences","_callee4","_context4","transaction","_callee3","_context3","toArray","results","add","_x2","_x3","_updateAppPreferences","_callee5","_context5","toCollection","modify","260","NotFoundError","_typeof","_possibleConstructorReturn","ReferenceError","_assertThisInitialized","_wrapNativeSuper","Class","_cache","Map","Function","has","set","Wrapper","_construct","_getPrototypeOf","create","_setPrototypeOf","Parent","_isNativeReflectConstruct","Reflect","construct","instance","sham","Proxy","Date","setPrototypeOf","__proto__","getPrototypeOf","_Error","subClass","superClass","_inherits","Derived","hasNativeReflectConstruct","_super","Super","NewTarget","message","_this","Constructor","_classCallCheck","Error"],"mappings":"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"},"code":"(this.webpackJsonp=this.webpackJsonp||[]).push([[7],{114:function(e,r,t){\"use strict\";t.r(r),t.d(r,\"default\",(function(){return h}));t(71),t(75),t(76),t(77),t(72),t(39),t(245),t(69),t(73),t(66),t(67),t(74),t(70),t(68);var n=t(29),o=t.n(n),a=(t(143),t(128),t(127),t(119),t(130),t(115),t(125),t(139)),u=t(132);function c(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function i(){return(i=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var s=t(183),f=t(137),p=t(246),l=t(117),d=t(255);function y(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],n=!0,o=!1,a=void 0;try{for(var u,c=e[Symbol.iterator]();!(n=(u=c.next()).done)&&(t.push(u.value),!r||t.length!==r);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return t}(e,r)||function(e,r){if(!e)return;if(\"string\"==typeof e)return b(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===t&&e.constructor&&(t=e.constructor.name);if(\"Map\"===t||\"Set\"===t)return Array.from(e);if(\"Arguments\"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b(e,r)}(e,r)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function b(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function h(e){var r=y(Object(n.useState)(u.a),2),t=r[0],b=r[1],h=Object(n.useRef)(t),v=Object(n.useRef)((function(e){return e})),m={getState:function(){return h.current},dispatch:function(e){return v.current(e)}};return Object(n.useEffect)((function(){var e;v.current=[Object(s.a)(),Object(p.createRenderMiddleware)(),function(r){var t=r.dispatch;return Object(d.createAppDatabase)().then((function(r){e=r,t(l.fetchAppPreferences())})),function(r){return function(n){if(e){var o=e;switch(n.type){case l.FETCH_APP_PREFERENCES:Object(d.ensureAppPreferences)(o).then((function(e){return t(l.appPreferences(e))}));break;case l.UPDATE_APP_PREFERENCES:Object(d.updateAppPreferences)(o,n.payload).then((function(){return Object(d.ensureAppPreferences)(o)})).then((function(e){return t(l.appPreferences(e))}))}}return r(n)}}},Object(f.a)()].reduceRight((function(e,r){return r(m)(e)}),(function(e){return h.current=function(e,r){switch(r.type){case a.b:return i({},e,{appPreferences:r.payload});case a.g:case a.h:return i({},e,{loading:!0});case a.m:case a.j:case a.i:return i({},e,{loading:!0});case a.r:var t=r.payload,n=t.id,o=t.update;return e.board&&e.board.id===n?i({},e,{updating:!0,board:i({},e.board,{name:o.name||e.board.name})}):e;case a.n:return i({},e,{downloading:!0});case a.o:return i({},e,{mode:r.payload});case a.p:var s=r.payload,f=s.id,p=s.solo,l=e.board,d=i({},e.layerVisibility,c({},f,p||!e.layerVisibility[f]));if(p){var y=(l?l.layers:[]).map((function(e){return e.id})).filter((function(e){return e!==f})),b=y.every((function(e){return!d[e]}));d=y.reduce((function(e,r){return i({},e,c({},r,b))}),d)}return i({},e,{layerVisibility:d});case a.t:return i({},e,{savedBoards:r.payload});case a.e:var h=e.mode,v=e.layerVisibility,m=r.payload,w=m.layers.reduce((function(e,r){var t=v[r.id];return i({},e,c({},r.id,null==t||t))}),{});return i({},e,{board:m,layerVisibility:w,mode:h||\"top\",loading:!1,updating:!1});case a.f:var g=r.payload,O=e.savedBoards.map((function(e){return e.id===g.id?g:e}));return O.indexOf(g)<0&&O.push(g),i({},e,{savedBoards:O});case a.c:var R=r.payload,A=e.savedBoards.filter((function(e){return e.id!==R})),E=e.board,P=e.mode;return E&&E.id===R&&(E=null,P=null),i({},e,{mode:P,board:E,savedBoards:A,loading:!1});case a.d:return i({},e,{downloading:!1});case a.a:return u.a;case a.k:return i({},e,{error:null});case a.s:var j=i({},e,{error:r.payload.error});switch(r.payload.request.type){case a.g:case a.h:case a.j:case a.i:return i({},j,{loading:!1});case a.r:return i({},j,{updating:!1});case a.n:return i({},j,{downloading:!1})}return j}return e}(h.current,e),b(h.current),e}))}),[]),o.a.createElement(u.b.Provider,{value:m},e.children)}},176:function(e,r,t){\"use strict\";t.d(r,\"a\",(function(){return i}));t(39),t(69),t(66),t(67),t(164),t(70),t(247),t(68),t(249);var n=t(253),o=t(117),a=t(137),u=t(254),c=t.n(u);function i(){var e=new c.a;return function(r){var t=r.dispatch;return e.onmessage=function(e){a.b.debug(\"action received from RenderWorker\",e.data.type),t(e.data)},function(r){return function(u){switch(u.type){case o.CREATE_BOARD:case o.CREATE_BOARD_FROM_URL:case o.GET_BOARD:case o.GET_BOARD_PACKAGE:case o.UPDATE_BOARD:case o.DELETE_BOARD:case o.DELETE_ALL_BOARDS:a.b.debug(\"sending action to RenderWorker\",u.type),e.postMessage(u);break;case o.WORKER_INITIALIZED:var c=new URLSearchParams(window.location.search.slice(1)).get(\"boardUrl\");c&&t(o.createBoardFromUrl(c));break;case o.BOARD_PACKAGED:Object(n.saveAs)(u.payload.file,\"\".concat(u.payload.name,\".zip\"))}return r(u)}}}}},178:function(e,r){},181:function(e,r){},246:function(e,r,t){\"use strict\";var n=t(176);t.d(r,\"createRenderMiddleware\",(function(){return n.a}));t(178)},254:function(e,r,t){e.exports=function(){return new Worker(t.p+\"8ecb495618c0ed22e6a3.worker.js\")}},255:function(e,r,t){\"use strict\";t.d(r,\"createAppDatabase\",(function(){return a})),t.d(r,\"ensureAppPreferences\",(function(){return c})),t.d(r,\"updateAppPreferences\",(function(){return s}));t(71),t(75),t(76),t(128),t(256),t(77),t(129),t(127),t(72),t(39),t(119),t(130),t(69),t(73),t(66),t(115),t(125),t(141),t(67),t(257),t(93),t(74),t(136),t(70),t(68),t(259),t(260),t(181);function n(e,r,t,n,o,a,u){try{var c=e[a](u),i=c.value}catch(e){return void t(e)}c.done?r(i):Promise.resolve(i).then(n,o)}function o(e){return function(){var r=this,t=arguments;return new Promise((function(o,a){var u=e.apply(r,t);function c(e){n(u,o,a,c,i,\"next\",e)}function i(e){n(u,o,a,c,i,\"throw\",e)}c(void 0)}))}}function a(){return u.apply(this,arguments)}function u(){return(u=o(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",t.e(3).then(t.bind(null,182)).then((function(e){var r=new(0,e.default)(\"AppDatabase\");return r.version(1).stores({preferences:\"++\"}),r})));case 1:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function c(e){return i.apply(this,arguments)}function i(){return(i=o(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",r.transaction(\"rw\",r.preferences,o(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",r.preferences.toArray().then((function(e){if(0===e.length){var t={};return r.preferences.add(t).then((function(){return t}))}return e[0]})));case 1:case\"end\":return e.stop()}}),e)})))));case 1:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function s(e,r){return f.apply(this,arguments)}function f(){return(f=o(regeneratorRuntime.mark((function e(r,t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",r.preferences.toCollection().modify(t));case 1:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}},260:function(e,r,t){\"use strict\";t.d(r,\"a\",(function(){return f}));t(71),t(75),t(76),t(127),t(39),t(73),t(261),t(66),t(262),t(266),t(267),t(268),t(67),t(269),t(74),t(70),t(68);function n(e){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function o(e,r){return!r||\"object\"!==n(r)&&\"function\"!=typeof r?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):r}function a(e){var r=\"function\"==typeof Map?new Map:void 0;return(a=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf(\"[native code]\")))return e;var t;if(\"function\"!=typeof e)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,n)}function n(){return u(e,arguments,s(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i(n,e)})(e)}function u(e,r,t){return(u=c()?Reflect.construct:function(e,r,t){var n=[null];n.push.apply(n,r);var o=new(Function.bind.apply(e,n));return t&&i(o,t.prototype),o}).apply(null,arguments)}function c(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function i(e,r){return(i=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,r){if(\"function\"!=typeof r&&null!==r)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&i(e,r)}(a,e);var r,t,n=(r=a,t=c(),function(){var e,n=s(r);if(t){var a=s(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return o(this,e)});function a(e){var r;return function(e,r){if(!(e instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,a),(r=n.call(this,e)).name=a.name,r}return a}(a(Error))}}]);","extractedComments":[]}